basePath: /api
definitions:
  entities.Cat:
    properties:
      breed:
        example: Мейн-кун
        type: string
      care_complexity:
        example: 4
        type: integer
      fur:
        example: Длинношерстная
        type: string
      id:
        example: 7
        type: integer
      image_path:
        example: /images/cat.png
        type: string
      temper:
        example: Спокойный
        type: string
    type: object
  entities.CreateUserRequest:
    properties:
      email:
        example: petrov@mail.ru
        type: string
      name:
        example: Петр
        type: string
      password:
        example: "12345678"
        type: string
      surname:
        example: Петров
        type: string
    type: object
  entities.CreateUserResponse:
    properties:
      access_token:
        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJNYXBDbGFpbXMiOnsiRXhwaXJlc0F0IjoxNzM4MDE3MjA5LCJJc3N1ZWRBciI6MTczNDQxNzIwOX0sInVzZXJfaWQiOjF9.CX2eHEjXZa209vDdtdoz40JlbxuHukMjrc-hw2E_Jy0
        type: string
      id:
        example: 1
        type: integer
    type: object
  entities.ErrorResponse:
    properties:
      error:
        type: string
    type: object
  entities.Favorite:
    properties:
      cat_id:
        example: 3
        type: integer
      id:
        example: 5
        type: integer
      user_id:
        example: 44
        type: integer
    type: object
  entities.LoginUserRequest:
    properties:
      email:
        example: petrov@mail.ru
        type: string
      password:
        example: "12345678"
        type: string
    type: object
  entities.LoginUserResponse:
    properties:
      access_token:
        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJNYXBDbGFpbXMiOnsiRXhwaXJlc0F0IjoxNzM4MDE3MjA5LCJJc3N1ZWRBciI6MTczNDQxNzIwOX0sInVzZXJfaWQiOjF9.CX2eHEjXZa209vDdtdoz40JlbxuHukMjrc-hw2E_Jy0
        type: string
      id:
        example: 1
        type: integer
    type: object
  entities.UpdateCatRequest:
    properties:
      breed:
        example: Мейн-кун
        type: string
      care_complexity:
        example: 4
        type: integer
      fur:
        example: Длинношерстная
        type: string
      id:
        example: 7
        type: integer
      temper:
        example: Спокойный
        type: string
    type: object
  entities.UpdateFavoriteRequest:
    properties:
      cat_id:
        example: 3
        type: integer
    type: object
  entities.UserData:
    properties:
      email:
        example: petrov@mail.ru
        type: string
      id:
        example: 1
        type: integer
      name:
        example: Петр
        type: string
      surname:
        example: Петров
        type: string
    type: object
info:
  contact: {}
  title: Kotiki API
  version: "1.0"
paths:
  /auth/favorites:
    delete:
      consumes:
      - application/json
      description: Удаление кошки из списка любимых пользователя по его идентификатору
        и идентификатору кошки с логированием ошибок
      parameters:
      - description: Информация о кошке и пользователе
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/entities.UpdateFavoriteRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Успешное удаление кошки из списка любимых
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Некорректные данные запроса
          schema:
            $ref: '#/definitions/entities.ErrorResponse'
        "500":
          description: Внутренняя ошибка сервера
          schema:
            $ref: '#/definitions/entities.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Удаление кошки из списка любимых
      tags:
      - cat
    get:
      consumes:
      - application/json
      description: Получение списка кошек, которые являются любимыми у пользователя
        по его идентификатору с логированием ошибок
      produces:
      - application/json
      responses:
        "200":
          description: Успешное получение списка любимых кошек
          schema:
            items:
              $ref: '#/definitions/entities.Cat'
            type: array
        "400":
          description: Некорректный идентификатор пользователя
          schema:
            $ref: '#/definitions/entities.ErrorResponse'
        "500":
          description: Внутренняя ошибка сервера
          schema:
            $ref: '#/definitions/entities.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Получение списка любимых кошек пользователя
      tags:
      - cat
    post:
      consumes:
      - application/json
      description: Добавление кошки в список любимых пользователя по его идентификатору
        и идентификатору кошки с логированием ошибок
      parameters:
      - description: Информация о кошке и пользователе
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/entities.UpdateFavoriteRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Успешное добавление кошки в список любимых
          schema:
            $ref: '#/definitions/entities.Favorite'
        "400":
          description: Некорректные данные запроса
          schema:
            $ref: '#/definitions/entities.ErrorResponse'
        "500":
          description: Внутренняя ошибка сервера
          schema:
            $ref: '#/definitions/entities.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: Добавление кошки в список любимых
      tags:
      - cat
  /cat:
    get:
      consumes:
      - application/json
      description: Получение всех записей о кошках из базы данных с логированием ошибок
      produces:
      - application/json
      responses:
        "200":
          description: Успешное получение списка кошек
          schema:
            items:
              $ref: '#/definitions/entities.Cat'
            type: array
        "500":
          description: Внутренняя ошибка сервера
          schema:
            $ref: '#/definitions/entities.ErrorResponse'
      summary: Получение списка всех кошек
      tags:
      - cat
    post:
      consumes:
      - multipart/form-data
      description: Добавление новой записи о кошке в базу данных с логированием ошибок
      parameters:
      - description: Шерсть кошки
        in: formData
        name: fur
        required: true
        type: string
      - description: Порода кошки
        in: formData
        name: breed
        required: true
        type: string
      - description: Сложность ухода за кошкой
        in: formData
        name: care_complexity
        required: true
        type: integer
      - description: Темперамент кошки
        in: formData
        name: temper
        required: true
        type: string
      - description: Изображение кошки
        in: formData
        name: image
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: Успешное создание записи
          schema:
            $ref: '#/definitions/entities.Cat'
        "400":
          description: Некорректные данные
          schema:
            $ref: '#/definitions/entities.ErrorResponse'
        "500":
          description: Внутренняя ошибка сервера
          schema:
            $ref: '#/definitions/entities.ErrorResponse'
      summary: Создание записи о кошке
      tags:
      - cat
    put:
      consumes:
      - application/json
      description: Обновление существующей записи о кошке в базе данных с логированием
        ошибок
      parameters:
      - description: Данные для обновления кошки
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/entities.UpdateCatRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Успешное обновление записи
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Некорректные данные
          schema:
            $ref: '#/definitions/entities.ErrorResponse'
        "500":
          description: Внутренняя ошибка сервера
          schema:
            $ref: '#/definitions/entities.ErrorResponse'
      summary: Обновление записи о кошке
      tags:
      - cat
  /cat/id/{id}:
    delete:
      consumes:
      - application/json
      description: Удаление записи о кошке из базы данных по её идентификатору с логированием
        ошибок
      parameters:
      - description: ID кошки для удаления
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Успешное удаление записи
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Некорректный идентификатор
          schema:
            $ref: '#/definitions/entities.ErrorResponse'
        "500":
          description: Внутренняя ошибка сервера
          schema:
            $ref: '#/definitions/entities.ErrorResponse'
      summary: Удаление записи о кошке
      tags:
      - cat
    get:
      consumes:
      - application/json
      description: Получение данных о конкретной кошке из базы данных по её идентификатору
        с логированием ошибок
      parameters:
      - description: ID кошки для поиска
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Успешное получение данных о кошке
          schema:
            $ref: '#/definitions/entities.Cat'
        "400":
          description: Некорректный идентификатор
          schema:
            $ref: '#/definitions/entities.ErrorResponse'
        "500":
          description: Внутренняя ошибка сервера
          schema:
            $ref: '#/definitions/entities.ErrorResponse'
      summary: Получение информации о кошке по ID
      tags:
      - cat
  /login:
    post:
      consumes:
      - application/json
      description: Аутентификация пользователя с возвращением токена доступа
      parameters:
      - description: Данные для входа
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/entities.LoginUserRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Успешный вход
          schema:
            $ref: '#/definitions/entities.LoginUserResponse'
        "400":
          description: Неверный логин или пароль
          schema:
            $ref: '#/definitions/entities.ErrorResponse'
        "500":
          description: Внутренняя ошибка сервера
          schema:
            $ref: '#/definitions/entities.ErrorResponse'
      summary: Вход пользователя
      tags:
      - user
  /signup:
    post:
      consumes:
      - application/json
      description: Создает нового пользователя и выдает ему токен доступа
      parameters:
      - description: Данные для регистрации
        in: body
        name: data
        required: true
        schema:
          $ref: '#/definitions/entities.CreateUserRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Регистрация успешна
          schema:
            $ref: '#/definitions/entities.CreateUserResponse'
        "400":
          description: Пользователь уже существует или данные неверны
          schema:
            $ref: '#/definitions/entities.ErrorResponse'
        "500":
          description: Внутренняя ошибка сервера
          schema:
            $ref: '#/definitions/entities.ErrorResponse'
      summary: Регистрация пользователя
      tags:
      - user
  /user/{id}:
    get:
      consumes:
      - application/json
      description: Извлекает пользовательские данные из БД по ID пользователя
      parameters:
      - description: ID пользователя
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Пользовательские данные получены
          schema:
            $ref: '#/definitions/entities.UserData'
        "400":
          description: Неверный формат ID
          schema:
            $ref: '#/definitions/entities.ErrorResponse'
        "500":
          description: Внутренняя ошибка сервера
          schema:
            $ref: '#/definitions/entities.ErrorResponse'
      summary: Получение данных пользователя по его ID
      tags:
      - user
securityDefinitions:
  ApiKeyAuth:
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
